=====================================
DONATIONS MODULE - COMMAND REFERENCE
=====================================

üì¶ INSTALLATION COMMANDS
========================

1. Install PDF Package:
   cd backend
   composer require barryvdh/laravel-dompdf

2. Clear Cache:
   php artisan config:clear
   php artisan route:clear
   php artisan cache:clear
   php artisan view:clear

3. Verify Routes:
   php artisan route:list --name=donations


üß™ TESTING COMMANDS
===================

1. Start Development Server:
   php artisan serve

2. Check Route List:
   php artisan route:list | findstr donations

3. Check Migrations:
   php artisan migrate:status

4. Run Migrations (if needed):
   php artisan migrate


üìä DATABASE QUERIES (for testing)
==================================

-- Check donations table
SELECT * FROM donations;

-- Check organizations
SELECT id, name, is_verified FROM organizations;

-- Check donations with organization
SELECT d.*, o.name as org_name 
FROM donations d 
LEFT JOIN organizations o ON d.organization_id = o.id;

-- Count donations by organization
SELECT o.name, COUNT(d.id) as total_donations, SUM(d.amount) as total_amount
FROM organizations o
LEFT JOIN donations d ON o.id = d.organization_id
GROUP BY o.id, o.name;


üåê ACCESS URLS (after php artisan serve)
=========================================

Main Pages:
- List Donations: http://localhost:8000/donations
- Create Donation: http://localhost:8000/donations/create
- Statistics: http://localhost:8000/donations/statistics

Exports:
- PDF Export: http://localhost:8000/donations-export/pdf
- CSV Export: http://localhost:8000/donations-export/csv

Legacy:
- Event Donation: http://localhost:8000/events/{id}/donate


üîç DEBUGGING COMMANDS
=====================

1. Check Laravel Logs:
   tail -f storage/logs/laravel.log
   # Windows:
   Get-Content storage/logs/laravel.log -Wait -Tail 50

2. Clear All Cache:
   php artisan optimize:clear

3. Check Composer Packages:
   composer show | findstr dompdf

4. Dump Autoload:
   composer dump-autoload


üõ†Ô∏è COMMON FIXES
================

Issue: Routes not working
Fix:
   php artisan route:clear
   php artisan config:clear
   php artisan cache:clear

Issue: PDF not generating
Fix:
   composer require barryvdh/laravel-dompdf
   php artisan config:clear

Issue: Views not updating
Fix:
   php artisan view:clear

Issue: Database connection error
Fix:
   Check .env file
   php artisan config:clear


üìù GIT COMMANDS (if using Git)
===============================

1. Stage Changes:
   git add backend/app/Models/Donation.php
   git add backend/app/Http/Controllers/Member/DonationController.php
   git add backend/app/Http/Requests/
   git add backend/resources/views/member/donations/
   git add backend/routes/web.php
   git add *.md

2. Commit:
   git commit -m "feat: implement complete donations module with CRUD, statistics, and export"

3. Push:
   git push origin main


üéØ QUICK TEST SEQUENCE
=======================

1. Install package:
   cd backend && composer require barryvdh/laravel-dompdf

2. Clear cache:
   php artisan optimize:clear

3. Start server:
   php artisan serve

4. Login and navigate to:
   http://localhost:8000/donations

5. Create a test donation:
   - Click "New Donation"
   - Select organization
   - Enter amount: 50
   - Submit

6. Test filters:
   - Select organization filter
   - Click "Filter"

7. View statistics:
   - Click "Statistics" button

8. Test exports:
   - Click "Export PDF"
   - Click "Export CSV"


‚úÖ VERIFICATION CHECKLIST
==========================

‚ñ° Package installed (barryvdh/laravel-dompdf)
‚ñ° Routes visible in route:list
‚ñ° Can access /donations page
‚ñ° Can create new donation
‚ñ° Can view donation details
‚ñ° Can filter donations
‚ñ° Statistics page works
‚ñ° Charts display correctly
‚ñ° PDF export downloads
‚ñ° CSV export downloads
‚ñ° Edit button works (pending only)
‚ñ° Delete button works (pending/failed only)
‚ñ° Authorization checks work


üìö DOCUMENTATION FILES
======================

1. DONATIONS_MODULE_DOCUMENTATION.md
   - Complete technical documentation
   - Architecture details
   - API reference

2. DONATIONS_QUICK_START.md
   - Installation guide
   - Quick testing steps
   - Debugging tips

3. DONATIONS_MODULE_SUMMARY.md
   - Implementation summary
   - Files created/modified
   - Requirements fulfillment

4. DONATIONS_COMMANDS.txt (this file)
   - Command reference
   - Quick commands
   - Testing sequence


üéì USEFUL ARTISAN COMMANDS
===========================

php artisan route:list                # List all routes
php artisan route:list --name=donations  # Filter routes
php artisan migrate                   # Run migrations
php artisan migrate:status            # Check migration status
php artisan db:seed                   # Seed database
php artisan tinker                    # Interactive shell
php artisan make:controller           # Create controller
php artisan make:model                # Create model
php artisan make:migration            # Create migration
php artisan make:request              # Create form request
php artisan optimize:clear            # Clear all cache
php artisan serve                     # Start dev server


üìä COMPOSER COMMANDS
====================

composer require barryvdh/laravel-dompdf  # Install PDF package
composer install                          # Install dependencies
composer update                           # Update dependencies
composer dump-autoload                    # Regenerate autoload
composer show                            # List packages
composer show barryvdh/laravel-dompdf   # Show package info


üîê PERMISSION COMMANDS (Linux/Mac)
===================================

chmod -R 775 storage
chmod -R 775 bootstrap/cache
chown -R www-data:www-data storage
chown -R www-data:www-data bootstrap/cache


üéâ SUCCESS INDICATORS
=====================

‚úÖ composer show shows barryvdh/laravel-dompdf
‚úÖ php artisan route:list shows donation routes
‚úÖ Can access http://localhost:8000/donations
‚úÖ Can create, view, edit, delete donations
‚úÖ Statistics page shows charts
‚úÖ PDF and CSV exports work
‚úÖ No errors in laravel.log


üìû SUPPORT RESOURCES
====================

Laravel Docs: https://laravel.com/docs
Chart.js Docs: https://www.chartjs.org/docs
DomPDF Docs: https://github.com/barryvdh/laravel-dompdf
Bootstrap Docs: https://getbootstrap.com/docs


=====================================
END OF COMMAND REFERENCE
=====================================

Last Updated: October 23, 2025
Module Status: ‚úÖ COMPLETE
